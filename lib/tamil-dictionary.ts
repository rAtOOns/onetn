/**
 * Tamil Dictionary for Spell Checking
 * Curated list of common Tamil words + Government/Official terms
 * Based on: Hunspell Tamil, Tamil Wikipedia, Government documents
 *
 * This is a rule-based (non-AI) approach using:
 * 1. Dictionary lookup for valid words
 * 2. Confusion rules for similar-sounding letters
 * 3. Common misspelling patterns
 */

// Common Tamil words (everyday vocabulary)
export const COMMON_WORDS = new Set([
  // Pronouns
  'நான்', 'நீ', 'அவன்', 'அவள்', 'அவர்', 'அது', 'இது', 'எது',
  'நாம்', 'நாங்கள்', 'நீங்கள்', 'அவர்கள்', 'அவை', 'இவை',
  'என்', 'உன்', 'அவரது', 'எனது', 'உனது', 'தனது',

  // Common verbs
  'செய்', 'செய்ய', 'செய்து', 'செய்தேன்', 'செய்தார்', 'செய்கிறேன்', 'செய்வேன்',
  'வா', 'வந்து', 'வந்தேன்', 'வந்தார்', 'வருகிறேன்', 'வருவேன்',
  'போ', 'போய்', 'போனேன்', 'போனார்', 'போகிறேன்', 'போவேன்',
  'சொல்', 'சொல்ல', 'சொன்னேன்', 'சொன்னார்', 'சொல்கிறேன்', 'சொல்வேன்',
  'கொடு', 'கொடுத்து', 'கொடுத்தேன்', 'கொடுத்தார்', 'கொடுக்கிறேன்', 'கொடுப்பேன்',
  'எடு', 'எடுத்து', 'எடுத்தேன்', 'எடுத்தார்', 'எடுக்கிறேன்', 'எடுப்பேன்',
  'பார்', 'பார்த்து', 'பார்த்தேன்', 'பார்த்தார்', 'பார்க்கிறேன்', 'பார்ப்பேன்',
  'கேள்', 'கேட்டு', 'கேட்டேன்', 'கேட்டார்', 'கேட்கிறேன்', 'கேட்பேன்',
  'எழுது', 'எழுதி', 'எழுதினேன்', 'எழுதினார்', 'எழுதுகிறேன்', 'எழுதுவேன்',
  'படி', 'படித்து', 'படித்தேன்', 'படித்தார்', 'படிக்கிறேன்', 'படிப்பேன்',
  'இரு', 'இருந்து', 'இருந்தேன்', 'இருந்தார்', 'இருக்கிறேன்', 'இருப்பேன்',
  'உள்ளது', 'உள்ளன', 'உள்ளேன்', 'உள்ளார்', 'உள்ளனர்',
  'வேண்டும்', 'வேண்டாம்', 'வேண்டி', 'வேண்டிய',
  'முடியும்', 'முடியாது', 'முடிந்தது', 'முடிந்தால்',
  'தெரியும்', 'தெரியாது', 'தெரிந்தது', 'தெரிந்தால்',

  // Common nouns
  'வீடு', 'வீட்டில்', 'வீட்டுக்கு', 'வீட்டை',
  'பள்ளி', 'பள்ளியில்', 'பள்ளிக்கு', 'பள்ளியை',
  'நாடு', 'நாட்டில்', 'நாட்டுக்கு', 'நாட்டை',
  'ஊர்', 'ஊரில்', 'ஊருக்கு', 'ஊரை',
  'மனிதன்', 'மனிதர்', 'மனிதர்கள்', 'மனித',
  'பெண்', 'பெண்கள்', 'பெண்ணின்',
  'ஆண்', 'ஆண்கள்', 'ஆணின்',
  'குழந்தை', 'குழந்தைகள்', 'குழந்தையின்',
  'தந்தை', 'தாய்', 'அம்மா', 'அப்பா',
  'அண்ணன்', 'தம்பி', 'அக்கா', 'தங்கை',
  'நண்பன்', 'நண்பர்', 'நண்பர்கள்',
  'மரம்', 'மரங்கள்', 'மரத்தில்',
  'நீர்', 'தண்ணீர்', 'நீரில்',
  'உணவு', 'உணவை', 'உணவில்',
  'வேலை', 'வேலையில்', 'வேலைக்கு',
  'பணம்', 'பணத்தை', 'பணத்தில்',
  'நேரம்', 'நேரத்தில்', 'நேரத்துக்கு',
  'நாள்', 'நாளில்', 'நாளுக்கு', 'நாட்கள்',
  'மாதம்', 'மாதத்தில்', 'மாதங்கள்',
  'வருடம்', 'வருடத்தில்', 'வருடங்கள்', 'ஆண்டு', 'ஆண்டில்', 'ஆண்டுகள்',

  // Common adjectives
  'நல்ல', 'கெட்ட', 'பெரிய', 'சிறிய', 'புதிய', 'பழைய',
  'அழகான', 'சுத்தமான', 'வெப்பமான', 'குளிர்ந்த',
  'உயர்ந்த', 'தாழ்ந்த', 'நீண்ட', 'குறுகிய',
  'கடினமான', 'எளிதான', 'முக்கியமான', 'சிறப்பான',

  // Numbers
  'ஒன்று', 'இரண்டு', 'மூன்று', 'நான்கு', 'ஐந்து',
  'ஆறு', 'ஏழு', 'எட்டு', 'ஒன்பது', 'பத்து',
  'பதினொன்று', 'பன்னிரண்டு', 'இருபது', 'முப்பது',
  'நாற்பது', 'ஐம்பது', 'அறுபது', 'எழுபது',
  'எண்பது', 'தொண்ணூறு', 'நூறு', 'ஆயிரம்', 'லட்சம்', 'கோடி',

  // Time words
  'இன்று', 'நேற்று', 'நாளை', 'இப்போது', 'அப்போது',
  'காலை', 'மாலை', 'இரவு', 'பகல்', 'நள்ளிரவு',
  'திங்கள்', 'செவ்வாய்', 'புதன்', 'வியாழன்',
  'வெள்ளி', 'சனி', 'ஞாயிறு',
  'ஜனவரி', 'பிப்ரவரி', 'மார்ச்', 'ஏப்ரல்', 'மே', 'ஜூன்',
  'ஜூலை', 'ஆகஸ்ட்', 'செப்டம்பர்', 'அக்டோபர்', 'நவம்பர்', 'டிசம்பர்',

  // Connectors & particles
  'மற்றும்', 'அல்லது', 'ஆனால்', 'எனவே', 'ஆகையால்',
  'அதனால்', 'இருப்பினும்', 'மேலும்', 'கூட', 'மட்டும்',
  'என்று', 'என்ன', 'எப்படி', 'எங்கே', 'எப்போது', 'ஏன்',
  'யார்', 'எது', 'எந்த', 'எவ்வளவு',
  'ஆம்', 'இல்லை', 'உண்டு', 'இல்', 'உடன்', 'மேல்',
  'கீழ்', 'முன்', 'பின்', 'உள்', 'வெளி',

  // Place words
  'இங்கே', 'அங்கே', 'எங்கே', 'இடம்', 'இடத்தில்',
  'வலது', 'இடது', 'நேராக', 'பக்கம்', 'பக்கத்தில்',
]);

// Government & Official terms (Tamil Nadu specific)
export const GOVERNMENT_WORDS = new Set([
  // Departments
  'அரசு', 'அரசாங்கம்', 'அரசின்', 'அரசுக்கு',
  'கல்வி', 'கல்வித்துறை', 'கல்வியியல்',
  'நிர்வாகம்', 'நிர்வாகி', 'நிர்வாகத்தில்',
  'நிதி', 'நிதித்துறை', 'நிதியியல்',
  'சுகாதாரம்', 'சுகாதாரத்துறை',
  'வருவாய்', 'வருவாய்த்துறை',
  'போக்குவரத்து', 'போக்குவரத்துத்துறை',
  'விவசாயம்', 'விவசாயத்துறை',
  'தொழில்', 'தொழிற்துறை',
  'ஊரக', 'ஊரகத்துறை', 'ஊரக வளர்ச்சி',
  'நகர்', 'நகர்ப்புற', 'நகராட்சி', 'மாநகராட்சி',
  'மாவட்டம்', 'மாவட்ட', 'மாவட்டத்தில்',
  'வட்டம்', 'வட்டத்தில்', 'வட்டாட்சியர்',

  // Designations
  'ஆசிரியர்', 'ஆசிரியரின்', 'ஆசிரியர்கள்',
  'தலைமையாசிரியர்', 'தலைமையாசிரியரின்',
  'முதல்வர்', 'முதல்வரின்',
  'உதவியாளர்', 'உதவியாளரின்',
  'செயலாளர்', 'செயலாளரின்',
  'இயக்குநர்', 'இயக்குநரின்',
  'ஆணையர்', 'ஆணையாளர்', 'ஆணையரின்',
  'கண்காணிப்பாளர்', 'கண்காணிப்பாளரின்',
  'கலெக்டர்', 'மாவட்ட ஆட்சியர்',
  'தாசில்தார்', 'வட்டாட்சியர்',
  'அலுவலர்', 'அலுவலரின்', 'அலுவலர்கள்',
  'பணியாளர்', 'பணியாளரின்', 'பணியாளர்கள்',
  'ஊழியர்', 'ஊழியரின்', 'ஊழியர்கள்',

  // Office terms
  'அலுவலகம்', 'அலுவலகத்தில்', 'அலுவலகத்துக்கு',
  'அறை', 'அறையில்', 'அறைக்கு',
  'பதிவு', 'பதிவேடு', 'பதிவுகள்',
  'கோப்பு', 'கோப்பில்', 'கோப்புகள்',
  'ஆவணம்', 'ஆவணங்கள்', 'ஆவணத்தில்',
  'சான்றிதழ்', 'சான்றிதழ்கள்',
  'விண்ணப்பம்', 'விண்ணப்பத்தில்', 'விண்ணப்பங்கள்',
  'மனு', 'மனுவில்', 'மனுக்கள்',
  'கடிதம்', 'கடிதத்தில்', 'கடிதங்கள்',
  'அறிக்கை', 'அறிக்கையில்', 'அறிக்கைகள்',
  'உத்தரவு', 'உத்தரவின்படி', 'உத்தரவுகள்',
  'ஆணை', 'ஆணையின்படி', 'அரசாணை',
  'சுற்றறிக்கை', 'சுற்றறிக்கையின்படி',
  'நடைமுறை', 'நடைமுறையின்படி',

  // Leave & Service
  'விடுப்பு', 'விடுப்பில்', 'விடுப்புக்கு',
  'தற்காலிக விடுப்பு', 'சம்பளத்துடன் விடுப்பு',
  'ஈட்டிய விடுப்பு', 'மருத்துவ விடுப்பு',
  'மகப்பேறு விடுப்பு', 'சிறப்பு விடுப்பு',
  'பணி', 'பணியில்', 'பணிக்கு',
  'பணிநிரவல்', 'பணிநிரவல் விடுப்பு',
  'ஓய்வு', 'ஓய்வூதியம்', 'ஓய்வூதியத்தில்',
  'சேவை', 'சேவையில்', 'சேவைக்கு',
  'பதவி', 'பதவியில்', 'பதவிக்கு',
  'பதவி உயர்வு', 'பதவி இறக்கம்',
  'இடமாற்றம்', 'இடமாற்றத்தில்',
  'நியமனம்', 'நியமனத்தில்',

  // Finance terms
  'சம்பளம்', 'சம்பளத்தில்', 'சம்பளத்துக்கு',
  'ஊதியம்', 'ஊதியத்தில்', 'ஊதியத்துக்கு',
  'அகவிலைப்படி', 'வீட்டு வாடகைப்படி',
  'பயணப்படி', 'சிறப்புப்படி',
  'முன்பணம்', 'முன்பணத்தில்',
  'கடன்', 'கடனில்', 'கடனுக்கு',
  'வட்டி', 'வட்டியில்',
  'வருங்கால வைப்பு நிதி', 'GPF', 'NPS',
  'நிலுவை', 'நிலுவையில்', 'நிலுவைத்தொகை',
  'திருப்பி', 'திருப்பித்தர', 'மருத்துவ திருப்பி',
  'பில்', 'பில்லில்', 'பில்கள்',
  'ரசீது', 'ரசீதில்', 'ரசீதுகள்',

  // Education specific
  'மாணவர்', 'மாணவரின்', 'மாணவர்கள்',
  'மாணவி', 'மாணவியின்', 'மாணவிகள்',
  'வகுப்பு', 'வகுப்பில்', 'வகுப்புக்கு',
  'தேர்வு', 'தேர்வில்', 'தேர்வுக்கு', 'தேர்வுகள்',
  'பாடம்', 'பாடத்தில்', 'பாடங்கள்',
  'பருவம்', 'பருவத்தில்', 'பருவங்கள்',
  'பள்ளிக்கூடம்', 'பள்ளிக்கூடத்தில்',
  'மேல்நிலைப்பள்ளி', 'உயர்நிலைப்பள்ளி',
  'தொடக்கப்பள்ளி', 'நடுநிலைப்பள்ளி',
  'கல்லூரி', 'கல்லூரியில்', 'பல்கலைக்கழகம்',
  'திட்டம்', 'திட்டத்தில்', 'திட்டங்கள்',
  'பயிற்சி', 'பயிற்சியில்', 'பயிற்சிகள்',

  // Letter writing terms
  'அனுப்புநர்', 'பெறுநர்', 'பொருள்',
  'மதிப்புற்குரிய', 'மரியாதைக்குரிய',
  'வணக்கம்', 'நன்றி', 'நன்றியுடன்',
  'தாழ்மையுடன்', 'பணிவுடன்', 'மரியாதையுடன்',
  'கேட்டுக்கொள்கிறேன்', 'கோருகிறேன்',
  'தெரிவிக்கிறேன்', 'தெரிவித்துக்கொள்கிறேன்',
  'அனுமதி', 'அனுமதிக்க', 'அனுமதிக்குமாறு',
  'நடவடிக்கை', 'நடவடிக்கை எடுக்க',
  'கோரிக்கை', 'கோரிக்கையை',
  'இணைப்பு', 'இணைப்புகள்',
  'இப்படிக்கு', 'கையொப்பம்',
  'தேதி', 'இடம்', 'முகவரி',

  // Common phrases
  'தங்கள் பணிவுள்ள', 'உங்கள் உண்மையுள்ள',
  'மேற்கண்ட', 'கீழ்க்கண்ட', 'மேற்படி',
  'அதன்படி', 'இதன்படி', 'அதனால்', 'இதனால்',
  'குறித்து', 'குறித்த', 'பற்றி', 'பற்றிய',
  'சம்பந்தமாக', 'சம்பந்தப்பட்ட',
  'தொடர்பாக', 'தொடர்பான',
]);

// Combined dictionary
export const TAMIL_DICTIONARY = new Set([
  ...COMMON_WORDS,
  ...GOVERNMENT_WORDS,
]);

// Common misspellings with corrections
export const MISSPELLINGS: Record<string, { correct: string; rule: string; ruleTamil: string }> = {
  // ல vs ள vs ழ confusion
  'தமில்': { correct: 'தமிழ்', rule: 'Use ழ for Tamil language', ruleTamil: 'தமிழ் மொழிக்கு ழ பயன்படுத்தவும்' },
  'தமிள்': { correct: 'தமிழ்', rule: 'Use ழ for Tamil language', ruleTamil: 'தமிழ் மொழிக்கு ழ பயன்படுத்தவும்' },
  'அலகு': { correct: 'அழகு', rule: 'Use ழ for beauty', ruleTamil: 'அழகு என்பதில் ழ பயன்படுத்தவும்' },
  'அளகு': { correct: 'அழகு', rule: 'Use ழ for beauty', ruleTamil: 'அழகு என்பதில் ழ பயன்படுத்தவும்' },
  'பலம்': { correct: 'பழம்', rule: 'Use ழ for fruit', ruleTamil: 'பழம் என்பதில் ழ பயன்படுத்தவும்' },
  'பளம்': { correct: 'பழம்', rule: 'Use ழ for fruit', ruleTamil: 'பழம் என்பதில் ழ பயன்படுத்தவும்' },
  'வாலை': { correct: 'வாழை', rule: 'Use ழ for banana', ruleTamil: 'வாழை என்பதில் ழ பயன்படுத்தவும்' },
  'வாளை': { correct: 'வாழை', rule: 'Use ழ for banana', ruleTamil: 'வாழை என்பதில் ழ பயன்படுத்தவும்' },
  'எலுது': { correct: 'எழுது', rule: 'Use ழ for write', ruleTamil: 'எழுது என்பதில் ழ பயன்படுத்தவும்' },
  'எளுது': { correct: 'எழுது', rule: 'Use ழ for write', ruleTamil: 'எழுது என்பதில் ழ பயன்படுத்தவும்' },
  'குலந்தை': { correct: 'குழந்தை', rule: 'Use ழ for child', ruleTamil: 'குழந்தை என்பதில் ழ பயன்படுத்தவும்' },
  'குளந்தை': { correct: 'குழந்தை', rule: 'Use ழ for child', ruleTamil: 'குழந்தை என்பதில் ழ பயன்படுத்தவும்' },

  // ண vs ன vs ந confusion
  'பனம்': { correct: 'பணம்', rule: 'Use ண for money', ruleTamil: 'பணம் என்பதில் ண பயன்படுத்தவும்' },
  'மனி': { correct: 'மணி', rule: 'Use ண for bell/hour', ruleTamil: 'மணி என்பதில் ண பயன்படுத்தவும்' },
  'வனக்கம்': { correct: 'வணக்கம்', rule: 'Use ண for greeting', ruleTamil: 'வணக்கம் என்பதில் ண பயன்படுத்தவும்' },
  'கனக்கு': { correct: 'கணக்கு', rule: 'Use ண for calculation', ruleTamil: 'கணக்கு என்பதில் ண பயன்படுத்தவும்' },
  'அனுமதி': { correct: 'அனுமதி', rule: 'Correct - use ன', ruleTamil: 'சரி - ன பயன்படுத்தவும்' },
  'அணுமதி': { correct: 'அனுமதி', rule: 'Use ன not ண for permission', ruleTamil: 'அனுமதி என்பதில் ன பயன்படுத்தவும்' },
  'விணப்பம்': { correct: 'விண்ணப்பம்', rule: 'Use ண் for application', ruleTamil: 'விண்ணப்பம் என்பதில் ண் பயன்படுத்தவும்' },
  'வினப்பம்': { correct: 'விண்ணப்பம்', rule: 'Use ண் for application', ruleTamil: 'விண்ணப்பம் என்பதில் ண் பயன்படுத்தவும்' },

  // ர vs ற confusion
  'அரை': { correct: 'அறை', rule: 'Use ற for room', ruleTamil: 'அறை என்பதில் ற பயன்படுத்தவும்' },
  'சிரை': { correct: 'சிறை', rule: 'Use ற for prison', ruleTamil: 'சிறை என்பதில் ற பயன்படுத்தவும்' },
  'முரை': { correct: 'முறை', rule: 'Use ற for method', ruleTamil: 'முறை என்பதில் ற பயன்படுத்தவும்' },
  'நிரை': { correct: 'நிறை', rule: 'Use ற for full', ruleTamil: 'நிறை என்பதில் ற பயன்படுத்தவும்' },
  'குரை': { correct: 'குறை', rule: 'Use ற for defect', ruleTamil: 'குறை என்பதில் ற பயன்படுத்தவும்' },
  'காற்ரு': { correct: 'காற்று', rule: 'Use ற்று for wind', ruleTamil: 'காற்று என்பதில் ற்று பயன்படுத்தவும்' },
  'மாற்ரம்': { correct: 'மாற்றம்', rule: 'Use ற்ற for change', ruleTamil: 'மாற்றம் என்பதில் ற்ற பயன்படுத்தவும்' },

  // Government terms common errors
  'அலுவகம்': { correct: 'அலுவலகம்', rule: 'Missing ல', ruleTamil: 'ல விடுபட்டுள்ளது' },
  'செயலர்': { correct: 'செயலாளர்', rule: 'Use செயலாளர்', ruleTamil: 'செயலாளர் என்று எழுதவும்' },
  'பனியாளர்': { correct: 'பணியாளர்', rule: 'Use ண for worker', ruleTamil: 'பணியாளர் என்பதில் ண பயன்படுத்தவும்' },
  'சம்பலம்': { correct: 'சம்பளம்', rule: 'Use ள for salary', ruleTamil: 'சம்பளம் என்பதில் ள பயன்படுத்தவும்' },
  'ஆசிரியெர்': { correct: 'ஆசிரியர்', rule: 'Use ர் not ெர்', ruleTamil: 'ஆசிரியர் என்று எழுதவும்' },
  'மாவடம்': { correct: 'மாவட்டம்', rule: 'Use ட்ட for district', ruleTamil: 'மாவட்டம் என்பதில் ட்ட பயன்படுத்தவும்' },
  'வேனும்': { correct: 'வேண்டும்', rule: 'Use வேண்டும் (formal)', ruleTamil: 'எழுத்து வழக்கில் வேண்டும்' },
  'வேணும்': { correct: 'வேண்டும்', rule: 'Use வேண்டும் (formal)', ruleTamil: 'எழுத்து வழக்கில் வேண்டும்' },
  'பன்னி': { correct: 'பணி', rule: 'Use ண for work', ruleTamil: 'பணி என்பதில் ண பயன்படுத்தவும்' },
  'கோரிகை': { correct: 'கோரிக்கை', rule: 'Use க்கை not கை', ruleTamil: 'கோரிக்கை என்று எழுதவும்' },

  // Double consonant errors
  'செய': { correct: 'செய்ய', rule: 'Use double ய்ய for verb', ruleTamil: 'வினைச்சொல்லில் இரட்டை ய்ய' },
  'வந்த': { correct: 'வந்த', rule: 'Correct', ruleTamil: 'சரி' },
  'சொல்': { correct: 'சொல்ல', rule: 'Use ல்ல for verb infinitive', ruleTamil: 'வினையெச்சத்தில் ல்ல' },

  // Pulli errors
  'செயது': { correct: 'செய்து', rule: 'Add pulli (்) after ய', ruleTamil: 'ய க்குப் பின் புள்ளி தேவை' },
  'வநது': { correct: 'வந்து', rule: 'Add pulli after ந', ruleTamil: 'ந க்குப் பின் புள்ளி தேவை' },
  'சொனேன்': { correct: 'சொன்னேன்', rule: 'Use ன்ன for past tense', ruleTamil: 'இறந்தகாலத்தில் ன்ன' },
};

// Words with specific letters that are commonly confused
export const WORDS_WITH_ZHA = [
  'தமிழ்', 'அழகு', 'பழம்', 'வாழை', 'எழுது', 'குழந்தை', 'பழக்கம்',
  'வழி', 'அழைப்பு', 'கொழு', 'முழு', 'விழா', 'கழுத்து', 'பழுது',
  'தழுவு', 'அழிவு', 'கழிவு', 'பழி', 'முழக்கம்', 'அழுத்தம்',
];

export const WORDS_WITH_RETROFLEX_N = [
  'பணம்', 'மணி', 'கணக்கு', 'வணக்கம்', 'அணி', 'பிணி', 'கணவன்',
  'மணம்', 'கணம்', 'பணி', 'தணிக்கை', 'ஆணை', 'விண்ணப்பம்', 'பணியாளர்',
  'மணல்', 'அணு', 'வாணிகம்',
];

export const WORDS_WITH_RA = [
  'அறை', 'சிறை', 'முறை', 'நிறை', 'குறை', 'மறை', 'பிறை',
  'காற்று', 'மாற்றம்', 'சாற்று', 'ஊற்று', 'பற்று', 'சுற்று',
  'கற்று', 'மற்றும்', 'உற்ற', 'வறுமை', 'பெறுதல்', 'நெறி', 'துறை',
];

/**
 * Check if a word is in the dictionary
 */
export function isValidWord(word: string): boolean {
  return TAMIL_DICTIONARY.has(word);
}

/**
 * Get correction for a misspelled word
 */
export function getCorrection(word: string): { correct: string; rule: string; ruleTamil: string } | null {
  return MISSPELLINGS[word] || null;
}

/**
 * Calculate Levenshtein distance between two strings
 */
export function levenshteinDistance(str1: string, str2: string): number {
  const m = str1.length;
  const n = str2.length;
  const dp: number[][] = Array(m + 1).fill(null).map(() => Array(n + 1).fill(0));

  for (let i = 0; i <= m; i++) dp[i][0] = i;
  for (let j = 0; j <= n; j++) dp[0][j] = j;

  for (let i = 1; i <= m; i++) {
    for (let j = 1; j <= n; j++) {
      if (str1[i - 1] === str2[j - 1]) {
        dp[i][j] = dp[i - 1][j - 1];
      } else {
        dp[i][j] = 1 + Math.min(dp[i - 1][j], dp[i][j - 1], dp[i - 1][j - 1]);
      }
    }
  }

  return dp[m][n];
}

/**
 * Get suggestions for a misspelled word
 */
export function getSuggestions(word: string, maxDistance: number = 2): string[] {
  const suggestions: Array<{ word: string; distance: number }> = [];

  // First check misspellings dictionary
  const correction = MISSPELLINGS[word];
  if (correction) {
    return [correction.correct];
  }

  // Then search dictionary for similar words
  for (const dictWord of TAMIL_DICTIONARY) {
    // Skip if length difference is too large
    if (Math.abs(dictWord.length - word.length) > maxDistance) continue;

    const distance = levenshteinDistance(word, dictWord);
    if (distance <= maxDistance && distance > 0) {
      suggestions.push({ word: dictWord, distance });
    }
  }

  // Sort by distance and return top 5
  return suggestions
    .sort((a, b) => a.distance - b.distance)
    .slice(0, 5)
    .map(s => s.word);
}
